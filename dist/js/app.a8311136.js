(function(e){function t(t){for(var a,o,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],r[o]&&f.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a01":function(e,t,n){},"1cd6":function(e,t,n){},"3fc7":function(e,t,n){},"41b3":function(e,t,n){"use strict";var a=n("0a01"),r=n.n(a);r.a},"49af":function(e,t,n){"use strict";var a=n("d511"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("hidden",{staticClass:"hidden-tools"}),n("router-view")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tools",on:{click:e.click}})},c=[],s={name:"Hidden",methods:{click:function(){confirm("back or reload?")?this.$router.back():window.location.reload(!0)}}},l=s,u=(n("ebe9"),n("2877")),d=Object(u["a"])(l,o,c,!1,null,"2534e6da",null),f=d.exports,p={name:"App",components:{Hidden:f}},v=p,b=(n("7faf"),Object(u["a"])(v,r,i,!1,null,null,null)),h=b.exports,g=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"flex-1"}),n("div",{staticClass:"center"},[n("div",{staticClass:"label"},[e._v("请输入TA的昵称")]),n("input",{staticClass:"input",on:{input:e.handleChange}}),n("div",{staticClass:"btns",class:{show:e.valid}},[n("div",{staticClass:"next",on:{click:e.handleNext}},[e._v("完成")])])]),n("div",{staticClass:"flex-1"})])},w=[],O={name:"Create",data:function(){return{valid:!1,value:""}},methods:{handleNext:function(){var e=this;this.valid&&this.$service.createTarget(this.value).then(function(t){e.$router.push("bind")}).catch(function(t){e.$router.push("bind")})},handleChange:function(e){var t=e.target.value;t?(this.valid=!0,this.value=t):this.valid=!1}}},x=O,y=(n("8b41"),Object(u["a"])(x,m,w,!1,null,"23a169f5",null)),C=y.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"flex-1"}),a("div",{staticClass:"center"},[a("div",{staticClass:"icons"},[a("img",{staticClass:"icon-1",class:{active:e.wbEnabled},attrs:{src:n("acec")}}),a("img",{staticClass:"icon-2",class:{active:e.nmEnabled},attrs:{src:n("95ae")}}),a("img",{staticClass:"icon-3",class:{active:e.dbEnabled},attrs:{src:n("5ad2")}})]),a("div",{staticClass:"input-area"},[a("div",{staticClass:"label"},[e._v("绑定TA的社交网络账号")]),a("div",{staticClass:"input",on:{click:e.paste}},[e.loading?a("fa",{staticClass:"sp",style:{color:"#6A7A9E"},attrs:{icon:"spinner"}}):a("div",{staticClass:"text"},[e._v(e._s(e.value||e.placeholder))])],1)]),a("div",{staticClass:"btns"},[a("div",{staticClass:"next",on:{click:e.handleNext}},[e._v("完成")])])]),a("div",{staticClass:"flex-1"})])},_=[],k=(n("96cf"),n("3b8d")),E={name:"Bind",data:function(){return{enabled:[],value:"",placeholder:"复制链接到此处",loading:!1}},computed:{wbEnabled:function(){return this.enabled.indexOf("Weibo")>=0},nmEnabled:function(){return this.enabled.indexOf("NeteaseMusic")>=0},dbEnabled:function(){return this.enabled.indexOf("Douban")>=0}},watch:{value:function(e,t){var n=this;!t&&e&&(console.log("paste detected!"),this.$service.bind(this.value).then(function(e){n.enabled=e.enabledExternals,n.value="",n.loading=!1}).catch(function(){setTimeout(function(){n.value="",n.enabled=["Weibo","Douban","NeteaseMusic"],n.loading=!1},1e3)}))}},methods:{handleNext:function(){this.$router.push("main")},paste:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent,this.value=t,this.loading=!0;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){}},P=E,$=(n("49af"),Object(u["a"])(P,j,_,!1,null,"7397b91c",null)),T=$.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[e._v("123")])},S=[],A={name:"Main"},M=A,D=(n("41b3"),Object(u["a"])(M,N,S,!1,null,"2f1ac358",null)),W=D.exports;a["a"].use(g["a"]);var L=new g["a"]({routes:[{path:"/",name:"create",component:C},{path:"/bind",name:"bind",component:T},{path:"/main",name:"main",component:W}]}),R=n("2f62");a["a"].use(R["a"]);var B,F=new R["a"].Store({state:{},mutations:{},actions:{}}),H=n("9483"),J=function(e){confirm("update detected!")&&e.postMessage({action:"skipWaiting"})};Object(H["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),J(e.waiting)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),navigator.serviceWorker.addEventListener("controllerchange",function(){B||(window.location.reload(!0),B=!0)});var q=n("ecee"),U=n("c074"),z=n("ad3d"),G=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),I=n("bc3a"),K=n.n(I);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){Object(G["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X=function(e){if(e.response)throw e},Y="",Z=K.a.create({baseURL:Y});Z.interceptors.response.use(function(e){return e},X);var ee={createTarget:function(e){return Z.post("/target/create",{name:e})},updateTarget:function(e){return Z.post("/target/updateProfile",V({},e))},bind:function(e){return Z.post("/target/bindExternal",{identifier:e})},fetchList:function(){Z.post("/update/list")}},te={install:function(e){e.prototype.$service=ee}};q["c"].add(U["a"]),a["a"].component("fa",z["a"]),a["a"].use(te),a["a"].config.productionTip=!1,new a["a"]({router:L,store:F,render:function(e){return e(h)}}).$mount("#app")},"5ad2":function(e,t,n){e.exports=n.p+"img/icon-db.7bcfe656.png"},"7faf":function(e,t,n){"use strict";var a=n("8fba"),r=n.n(a);r.a},"8b41":function(e,t,n){"use strict";var a=n("3fc7"),r=n.n(a);r.a},"8fba":function(e,t,n){},"95ae":function(e,t,n){e.exports=n.p+"img/icon-nm.e833cb5e.png"},acec:function(e,t,n){e.exports=n.p+"img/icon-wb.3aaaa513.png"},d511:function(e,t,n){},ebe9:function(e,t,n){"use strict";var a=n("1cd6"),r=n.n(a);r.a}});
//# sourceMappingURL=app.a8311136.js.map